{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\krishan kant\\\\Desktop\\\\Js\\\\chess\\\\frontend\\\\src\\\\components\\\\Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport socket from '../socket';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Chat({\n  roomId,\n  username\n}) {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const messagesEndRef = useRef(null);\n  useEffect(() => {\n    socket.on(\"chat_message\", ({\n      username,\n      message,\n      timestamp\n    }) => {\n      setMessages(prev => [...prev, {\n        username,\n        message,\n        timestamp\n      }]);\n    });\n    return () => {\n      socket.off(\"chat_message\");\n    };\n  }, []);\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const sendMessage = () => {\n    if (input.trim() === '') return;\n    console.log(input.trim());\n    socket.emit('chat_message', {\n      roomId,\n      username,\n      message: input\n    });\n    setInput('');\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') sendMessage();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: 350,\n      border: '1px solid #ccc',\n      borderRadius: 6,\n      display: 'flex',\n      flexDirection: 'column',\n      height: 450,\n      backgroundColor: '#f0f2f5',\n      fontFamily: 'sans-serif'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#0084ff',\n        color: 'white',\n        padding: '10px',\n        borderTopLeftRadius: 6,\n        borderTopRightRadius: 6,\n        fontWeight: 'bold'\n      },\n      children: [\"Room: \", roomId, \" \\u2014 Chat\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flexGrow: 1,\n        overflowY: 'auto',\n        padding: '10px',\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '8px'\n      },\n      children: [messages.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          alignSelf: msg.username === username ? 'flex-end' : 'flex-start',\n          maxWidth: '70%',\n          backgroundColor: msg.username === username ? '#dcf8c6' : '#ffffff',\n          padding: '8px 12px',\n          borderRadius: 16,\n          borderTopLeftRadius: msg.username === username ? 16 : 0,\n          borderTopRightRadius: msg.username === username ? 0 : 16,\n          boxShadow: '0 1px 1px rgba(0,0,0,0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 12,\n            fontWeight: 'bold',\n            color: '#555'\n          },\n          children: msg.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 14\n          },\n          children: msg.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 10,\n            color: '#999',\n            textAlign: 'right',\n            marginTop: 4\n          },\n          children: new Date(msg.timestamp).toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        padding: 10,\n        gap: 6\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Type a message...\",\n        value: input,\n        onChange: e => setInput(e.target.value),\n        onKeyDown: handleKeyPress,\n        style: {\n          flexGrow: 1,\n          padding: '10px',\n          borderRadius: 20,\n          border: '1px solid #ccc',\n          outline: 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sendMessage,\n        style: {\n          padding: '0 16px',\n          border: 'none',\n          backgroundColor: '#0084ff',\n          color: 'white',\n          borderRadius: 20,\n          cursor: 'pointer'\n        },\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(Chat, \"5T9mGH1XtiC467pqOMuWw2291HM=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useEffect","useState","useRef","socket","jsxDEV","_jsxDEV","Chat","roomId","username","_s","messages","setMessages","input","setInput","messagesEndRef","on","message","timestamp","prev","off","_messagesEndRef$curre","current","scrollIntoView","behavior","sendMessage","trim","console","log","emit","handleKeyPress","e","key","style","width","border","borderRadius","display","flexDirection","height","backgroundColor","fontFamily","children","color","padding","borderTopLeftRadius","borderTopRightRadius","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","flexGrow","overflowY","gap","map","msg","i","alignSelf","maxWidth","boxShadow","fontSize","textAlign","marginTop","Date","toLocaleTimeString","hour","minute","ref","type","placeholder","value","onChange","target","onKeyDown","outline","onClick","cursor","_c","$RefreshReg$"],"sources":["C:/Users/krishan kant/Desktop/Js/chess/frontend/src/components/Chat.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport socket from '../socket';\r\n\r\nfunction Chat({ roomId, username }) {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState('');\r\n  const messagesEndRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"chat_message\", ({ username, message, timestamp }) => {\r\n      setMessages(prev => [...prev, { username, message, timestamp }]);\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"chat_message\");\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  const sendMessage = () => {\r\n      if (input.trim() === '') return;\r\n      console.log(input.trim())\r\n\r\n    socket.emit('chat_message', {\r\n      roomId,\r\n      username,\r\n      message: input,\r\n    });\r\n\r\n    setInput('');\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter') sendMessage();\r\n  };\r\n\r\n  return (\r\n    <div style={{\r\n      width: 350,\r\n      border: '1px solid #ccc',\r\n      borderRadius: 6,\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      height: 450,\r\n      backgroundColor: '#f0f2f5',\r\n      fontFamily: 'sans-serif'\r\n    }}>\r\n      <div style={{\r\n        backgroundColor: '#0084ff',\r\n        color: 'white',\r\n        padding: '10px',\r\n        borderTopLeftRadius: 6,\r\n        borderTopRightRadius: 6,\r\n        fontWeight: 'bold'\r\n      }}>\r\n        Room: {roomId} â€” Chat\r\n      </div>\r\n\r\n      <div style={{\r\n        flexGrow: 1,\r\n        overflowY: 'auto',\r\n        padding: '10px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '8px'\r\n      }}>\r\n        {messages.map((msg, i) => (\r\n          <div\r\n            key={i}\r\n            style={{\r\n              alignSelf: msg.username === username ? 'flex-end' : 'flex-start',\r\n              maxWidth: '70%',\r\n              backgroundColor: msg.username === username ? '#dcf8c6' : '#ffffff',\r\n              padding: '8px 12px',\r\n              borderRadius: 16,\r\n              borderTopLeftRadius: msg.username === username ? 16 : 0,\r\n              borderTopRightRadius: msg.username === username ? 0 : 16,\r\n              boxShadow: '0 1px 1px rgba(0,0,0,0.1)'\r\n            }}\r\n          >\r\n            <div style={{ fontSize: 12, fontWeight: 'bold', color: '#555' }}>{msg.username}</div>\r\n            <div style={{ fontSize: 14 }}>{msg.message}</div>\r\n            <div style={{ fontSize: 10, color: '#999', textAlign: 'right', marginTop: 4 }}>\r\n              {new Date(msg.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      <div style={{ display: 'flex', padding: 10, gap: 6 }}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Type a message...\"\r\n          value={input}\r\n          onChange={e => setInput(e.target.value)}\r\n          onKeyDown={handleKeyPress}\r\n          style={{\r\n            flexGrow: 1,\r\n            padding: '10px',\r\n            borderRadius: 20,\r\n            border: '1px solid #ccc',\r\n            outline: 'none'\r\n          }}\r\n        />\r\n        <button onClick={sendMessage} style={{\r\n          padding: '0 16px',\r\n          border: 'none',\r\n          backgroundColor: '#0084ff',\r\n          color: 'white',\r\n          borderRadius: 20,\r\n          cursor: 'pointer'\r\n        }}>\r\n          Send\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}