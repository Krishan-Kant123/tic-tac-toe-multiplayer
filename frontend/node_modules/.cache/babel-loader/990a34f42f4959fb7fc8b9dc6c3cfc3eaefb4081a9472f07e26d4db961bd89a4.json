{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\krishan kant\\\\Desktop\\\\Js\\\\chess\\\\frontend\\\\src\\\\components\\\\Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport socket from '../socket';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Chat({\n  roomId,\n  username: currentUser,\n  playerSymbol\n}) {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const messagesEndRef = useRef(null);\n  useEffect(() => {\n    socket.emit('join_chat', {\n      roomId,\n      username: currentUser\n    });\n    socket.on('chat_message', msg => {\n      setMessages(prev => [...prev, msg]);\n    });\n    return () => {\n      socket.emit('leave_chat', {\n        roomId,\n        username: currentUser\n      });\n      socket.off('chat_message');\n    };\n  }, [roomId, currentUser]);\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const handleSend = () => {\n    if (input.trim() === '') return;\n    socket.emit('chat_message', {\n      roomId,\n      username: currentUser,\n      symbol: playerSymbol,\n      message: input.trim()\n    });\n    setInput('');\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') handleSend();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: 320,\n      height: 500,\n      backgroundColor: '#121417',\n      borderRadius: 12,\n      boxShadow: '0 0 20px #ff4081 inset',\n      display: 'flex',\n      flexDirection: 'column',\n      padding: 16,\n      color: '#ddd',\n      fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\n      fontSize: 14\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginBottom: 12,\n        color: '#ff4081',\n        textShadow: '0 0 10px #ff4081'\n      },\n      children: \"Chat Room\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flexGrow: 1,\n        overflowY: 'auto',\n        marginBottom: 12,\n        border: '1px solid #333',\n        padding: 8,\n        borderRadius: 8,\n        backgroundColor: '#1a1e25'\n      },\n      children: [messages.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#555',\n          fontStyle: 'italic'\n        },\n        children: \"No messages yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), messages.map(({\n        username,\n        symbol,\n        message\n      }, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 8,\n          color: username === currentUser ? '#1de9b6' : '#ff4081',\n          textShadow: username === currentUser ? '0 0 8px #1de9b6' : '0 0 8px #ff4081',\n          fontWeight: username === currentUser ? '700' : '600'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: symbol\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [username, \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 39\n        }, this), \" \", message]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: input,\n        onChange: e => setInput(e.target.value),\n        onKeyDown: handleKeyPress,\n        placeholder: \"Type your message...\",\n        style: {\n          flexGrow: 1,\n          padding: 10,\n          borderRadius: 8,\n          border: 'none',\n          outline: 'none',\n          fontSize: 14,\n          backgroundColor: '#22272e',\n          color: '#eee',\n          boxShadow: '0 0 8px #ff4081 inset'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSend,\n        style: {\n          backgroundColor: '#ff4081',\n          border: 'none',\n          color: '#fff',\n          borderRadius: 8,\n          padding: '10px 16px',\n          fontWeight: '700',\n          cursor: 'pointer',\n          boxShadow: '0 0 10px #ff4081',\n          transition: 'background-color 0.3s ease'\n        },\n        onMouseOver: e => e.currentTarget.style.backgroundColor = '#ff1c68',\n        onMouseOut: e => e.currentTarget.style.backgroundColor = '#ff4081',\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(Chat, \"5T9mGH1XtiC467pqOMuWw2291HM=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useEffect","useState","useRef","socket","jsxDEV","_jsxDEV","Chat","roomId","username","currentUser","playerSymbol","_s","messages","setMessages","input","setInput","messagesEndRef","emit","on","msg","prev","off","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSend","trim","symbol","message","handleKeyPress","e","key","style","width","height","backgroundColor","borderRadius","boxShadow","display","flexDirection","padding","color","fontFamily","fontSize","children","marginBottom","textShadow","fileName","_jsxFileName","lineNumber","columnNumber","flexGrow","overflowY","border","length","fontStyle","map","idx","fontWeight","ref","gap","type","value","onChange","target","onKeyDown","placeholder","outline","onClick","cursor","transition","onMouseOver","currentTarget","onMouseOut","_c","$RefreshReg$"],"sources":["C:/Users/krishan kant/Desktop/Js/chess/frontend/src/components/Chat.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport socket from '../socket';\r\n\r\nfunction Chat({ roomId, username: currentUser, playerSymbol }) {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState('');\r\n  const messagesEndRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    socket.emit('join_chat', { roomId, username: currentUser });\r\n\r\n    socket.on('chat_message', (msg) => {\r\n      setMessages((prev) => [...prev, msg]);\r\n    });\r\n\r\n    return () => {\r\n      socket.emit('leave_chat', { roomId, username: currentUser });\r\n      socket.off('chat_message');\r\n    };\r\n  }, [roomId, currentUser]);\r\n\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  const handleSend = () => {\r\n    if (input.trim() === '') return;\r\n    socket.emit('chat_message', {\r\n      roomId,\r\n      username: currentUser,\r\n      symbol: playerSymbol,\r\n      message: input.trim(),\r\n    });\r\n    setInput('');\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter') handleSend();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: 320,\r\n        height: 500,\r\n        backgroundColor: '#121417',\r\n        borderRadius: 12,\r\n        boxShadow: '0 0 20px #ff4081 inset',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        padding: 16,\r\n        color: '#ddd',\r\n        fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\r\n        fontSize: 14,\r\n      }}\r\n    >\r\n      <h3 style={{ marginBottom: 12, color: '#ff4081', textShadow: '0 0 10px #ff4081' }}>\r\n        Chat Room\r\n      </h3>\r\n      <div\r\n        style={{\r\n          flexGrow: 1,\r\n          overflowY: 'auto',\r\n          marginBottom: 12,\r\n          border: '1px solid #333',\r\n          padding: 8,\r\n          borderRadius: 8,\r\n          backgroundColor: '#1a1e25',\r\n        }}\r\n      >\r\n        {messages.length === 0 && (\r\n          <p style={{ color: '#555', fontStyle: 'italic' }}>No messages yet.</p>\r\n        )}\r\n        {messages.map(({ username, symbol, message }, idx) => (\r\n          <div\r\n            key={idx}\r\n            style={{\r\n              marginBottom: 8,\r\n              color: username === currentUser ? '#1de9b6' : '#ff4081',\r\n              textShadow:\r\n                username === currentUser\r\n                  ? '0 0 8px #1de9b6'\r\n                  : '0 0 8px #ff4081',\r\n              fontWeight: username === currentUser ? '700' : '600',\r\n            }}\r\n          >\r\n            <strong>{symbol}</strong> <span>{username}:</span> {message}\r\n          </div>\r\n        ))}\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n      <div style={{ display: 'flex', gap: 8 }}>\r\n        <input\r\n          type=\"text\"\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          onKeyDown={handleKeyPress}\r\n          placeholder=\"Type your message...\"\r\n          style={{\r\n            flexGrow: 1,\r\n            padding: 10,\r\n            borderRadius: 8,\r\n            border: 'none',\r\n            outline: 'none',\r\n            fontSize: 14,\r\n            backgroundColor: '#22272e',\r\n            color: '#eee',\r\n            boxShadow: '0 0 8px #ff4081 inset',\r\n          }}\r\n        />\r\n        <button\r\n          onClick={handleSend}\r\n          style={{\r\n            backgroundColor: '#ff4081',\r\n            border: 'none',\r\n            color: '#fff',\r\n            borderRadius: 8,\r\n            padding: '10px 16px',\r\n            fontWeight: '700',\r\n            cursor: 'pointer',\r\n            boxShadow: '0 0 10px #ff4081',\r\n            transition: 'background-color 0.3s ease',\r\n          }}\r\n          onMouseOver={(e) => (e.currentTarget.style.backgroundColor = '#ff1c68')}\r\n          onMouseOut={(e) => (e.currentTarget.style.backgroundColor = '#ff4081')}\r\n        >\r\n          Send\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}