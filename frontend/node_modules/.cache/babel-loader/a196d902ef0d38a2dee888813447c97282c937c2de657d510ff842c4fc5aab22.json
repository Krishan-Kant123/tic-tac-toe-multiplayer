{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\krishan kant\\\\Desktop\\\\Js\\\\chess\\\\frontend\\\\src\\\\components\\\\Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport socket from '../socket';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Chat({\n  roomId,\n  username: currentUser\n}) {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const messagesEndRef = useRef(null);\n  useEffect(() => {\n    socket.on(\"chat_message\", ({\n      username,\n      message,\n      timestamp\n    }) => {\n      setMessages(prev => [...prev, {\n        username,\n        message,\n        timestamp\n      }]);\n    });\n    return () => {\n      socket.off(\"chat_message\");\n    };\n  }, []);\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const sendMessage = () => {\n    if (input.trim() === '') return;\n    socket.emit('chat_message', {\n      roomId,\n      username: currentUser,\n      message: input.trim()\n    });\n    setInput('');\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      sendMessage();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: styles.heading,\n      children: \"Chat\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.chatBox,\n      children: [messages.map((msg, i) => {\n        const isSelf = msg.username === currentUser;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...styles.messageContainer,\n            justifyContent: isSelf ? 'flex-start' : 'flex-end'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              ...styles.messageBubble,\n              backgroundColor: isSelf ? '#007bff' : '#28a745',\n              borderTopLeftRadius: isSelf ? 0 : 16,\n              borderTopRightRadius: isSelf ? 16 : 0\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              style: styles.username,\n              children: msg.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: msg.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.timestamp,\n              children: msg.timestamp ? new Date(msg.timestamp).toLocaleTimeString() : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Type a message...\",\n      value: input,\n      onChange: e => setInput(e.target.value),\n      onKeyDown: handleKeyPress,\n      style: styles.input\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: sendMessage,\n      style: styles.button,\n      children: \"Send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(Chat, \"5T9mGH1XtiC467pqOMuWw2291HM=\");\n_c = Chat;\nconst styles = {\n  container: {\n    width: 350,\n    border: '1px solid #ccc',\n    borderRadius: 8,\n    padding: 12,\n    display: 'flex',\n    flexDirection: 'column',\n    height: 500,\n    backgroundColor: '#f5f5f5'\n  },\n  heading: {\n    margin: 0,\n    marginBottom: 10,\n    fontWeight: 'bold',\n    textAlign: 'center'\n  },\n  chatBox: {\n    flexGrow: 1,\n    overflowY: 'auto',\n    padding: 10,\n    marginBottom: 10,\n    display: 'flex',\n    flexDirection: 'column',\n    gap: 8\n  },\n  messageContainer: {\n    display: 'flex'\n  },\n  messageBubble: {\n    padding: 10,\n    borderRadius: 16,\n    color: '#fff',\n    maxWidth: '70%',\n    fontSize: 14\n  },\n  username: {\n    fontSize: 12,\n    opacity: 0.9\n  },\n  timestamp: {\n    fontSize: 10,\n    marginTop: 4,\n    textAlign: 'right',\n    opacity: 0.7\n  },\n  input: {\n    padding: 10,\n    fontSize: 14,\n    borderRadius: 4,\n    border: '1px solid #aaa'\n  },\n  button: {\n    marginTop: 8,\n    padding: 10,\n    fontSize: 14,\n    backgroundColor: '#007bff',\n    color: '#fff',\n    border: 'none',\n    borderRadius: 4,\n    cursor: 'pointer'\n  }\n};\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useEffect","useState","useRef","socket","jsxDEV","_jsxDEV","Chat","roomId","username","currentUser","_s","messages","setMessages","input","setInput","messagesEndRef","on","message","timestamp","prev","off","_messagesEndRef$curre","current","scrollIntoView","behavior","sendMessage","trim","emit","handleKeyPress","e","key","style","styles","container","children","heading","fileName","_jsxFileName","lineNumber","columnNumber","chatBox","map","msg","i","isSelf","messageContainer","justifyContent","messageBubble","backgroundColor","borderTopLeftRadius","borderTopRightRadius","Date","toLocaleTimeString","ref","type","placeholder","value","onChange","target","onKeyDown","onClick","button","_c","width","border","borderRadius","padding","display","flexDirection","height","margin","marginBottom","fontWeight","textAlign","flexGrow","overflowY","gap","color","maxWidth","fontSize","opacity","marginTop","cursor","$RefreshReg$"],"sources":["C:/Users/krishan kant/Desktop/Js/chess/frontend/src/components/Chat.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport socket from '../socket';\r\n\r\nfunction Chat({ roomId, username: currentUser }) {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState('');\r\n  const messagesEndRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"chat_message\", ({ username, message, timestamp }) => {\r\n      setMessages(prev => [...prev, { username, message, timestamp }]);\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"chat_message\");\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  const sendMessage = () => {\r\n    if (input.trim() === '') return;\r\n\r\n    socket.emit('chat_message', {\r\n      roomId,\r\n      username: currentUser,\r\n      message: input.trim(),\r\n    });\r\n\r\n    setInput('');\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter') {\r\n      sendMessage();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <h3 style={styles.heading}>Chat</h3>\r\n      <div style={styles.chatBox}>\r\n        {messages.map((msg, i) => {\r\n          const isSelf = msg.username === currentUser;\r\n          return (\r\n            <div key={i} style={{\r\n              ...styles.messageContainer,\r\n              justifyContent: isSelf ? 'flex-start' : 'flex-end'\r\n            }}>\r\n              <div style={{\r\n                ...styles.messageBubble,\r\n                backgroundColor: isSelf ? '#007bff' : '#28a745',\r\n                borderTopLeftRadius: isSelf ? 0 : 16,\r\n                borderTopRightRadius: isSelf ? 16 : 0,\r\n              }}>\r\n                <strong style={styles.username}>{msg.username}</strong>\r\n                <div>{msg.message}</div>\r\n                <div style={styles.timestamp}>\r\n                  {msg.timestamp ? new Date(msg.timestamp).toLocaleTimeString() : ''}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Type a message...\"\r\n        value={input}\r\n        onChange={e => setInput(e.target.value)}\r\n        onKeyDown={handleKeyPress}\r\n        style={styles.input}\r\n      />\r\n      <button onClick={sendMessage} style={styles.button}>Send</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    width: 350,\r\n    border: '1px solid #ccc',\r\n    borderRadius: 8,\r\n    padding: 12,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    height: 500,\r\n    backgroundColor: '#f5f5f5',\r\n  },\r\n  heading: {\r\n    margin: 0,\r\n    marginBottom: 10,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n  },\r\n  chatBox: {\r\n    flexGrow: 1,\r\n    overflowY: 'auto',\r\n    padding: 10,\r\n    marginBottom: 10,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: 8,\r\n  },\r\n  messageContainer: {\r\n    display: 'flex',\r\n  },\r\n  messageBubble: {\r\n    padding: 10,\r\n    borderRadius: 16,\r\n    color: '#fff',\r\n    maxWidth: '70%',\r\n    fontSize: 14,\r\n  },\r\n  username: {\r\n    fontSize: 12,\r\n    opacity: 0.9,\r\n  },\r\n  timestamp: {\r\n    fontSize: 10,\r\n    marginTop: 4,\r\n    textAlign: 'right',\r\n    opacity: 0.7,\r\n  },\r\n  input: {\r\n    padding: 10,\r\n    fontSize: 14,\r\n    borderRadius: 4,\r\n    border: '1px solid #aaa',\r\n  },\r\n  button: {\r\n    marginTop: 8,\r\n    padding: 10,\r\n    fontSize: 14,\r\n    backgroundColor: '#007bff',\r\n    color: '#fff',\r\n    border: 'none',\r\n    borderRadius: 4,\r\n    cursor: 'pointer',\r\n  }\r\n};\r\n\r\nexport default Chat;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}