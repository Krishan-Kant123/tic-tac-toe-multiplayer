{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\krishan kant\\\\Desktop\\\\Js\\\\chess\\\\frontend\\\\src\\\\components\\\\Room.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport socket from '../socket';\nimport Board from './Board';\nimport Chat from './Chat';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst containerStyle = {\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'flex-start',\n  gap: 30,\n  padding: 20,\n  fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\n  backgroundColor: '#f0f4f8',\n  minHeight: '100vh'\n};\nconst gameAreaStyle = {\n  backgroundColor: 'white',\n  padding: 20,\n  borderRadius: 10,\n  boxShadow: '0 4px 15px rgba(0,0,0,0.1)',\n  width: 300,\n  textAlign: 'center'\n};\nconst statusStyle = {\n  marginBottom: 15,\n  fontSize: 18,\n  fontWeight: '600',\n  color: '#333',\n  minHeight: 28\n};\nconst buttonGroupStyle = {\n  marginTop: 20,\n  display: 'flex',\n  justifyContent: 'space-between'\n};\nconst buttonStyle = {\n  padding: '8px 16px',\n  borderRadius: 6,\n  border: 'none',\n  cursor: 'pointer',\n  fontWeight: '600',\n  fontSize: 14,\n  boxShadow: '0 2px 6px rgba(0,0,0,0.15)',\n  transition: 'background-color 0.3s'\n};\nconst restartBtnStyle = {\n  ...buttonStyle,\n  backgroundColor: '#4caf50',\n  color: 'white'\n};\nconst exitBtnStyle = {\n  ...buttonStyle,\n  backgroundColor: '#f44336',\n  color: 'white'\n};\nfunction Room({\n  username,\n  roomId\n}) {\n  _s();\n  var _Object$entries$find;\n  const [board, setBoard] = useState(Array(9).fill(''));\n  const [turn, setTurn] = useState('X');\n  const [status, setStatus] = useState('');\n  const [gameOver, setGameOver] = useState(false);\n  const [players, setPlayers] = useState({}); // username-to-symbol mapping\n\n  useEffect(() => {\n    socket.emit('join_room', {\n      roomId,\n      username\n    });\n    socket.on('game_state', ({\n      board,\n      turn,\n      status,\n      gameOver\n    }) => {\n      setBoard(board);\n      setTurn(turn);\n      setStatus(status);\n      setGameOver(gameOver);\n    });\n    socket.on('players', playersData => {\n      setPlayers(playersData);\n    });\n    socket.on('game_reset', () => {\n      setBoard(Array(9).fill(''));\n      setTurn('X');\n      setStatus('');\n      setGameOver(false);\n    });\n    return () => {\n      socket.emit('leave_room', {\n        roomId,\n        username\n      });\n      socket.off('game_state');\n      socket.off('players');\n      socket.off('game_reset');\n    };\n  }, [roomId, username]);\n  const handleCellClick = index => {\n    if (board[index] || gameOver) return;\n    socket.emit('make_move', {\n      roomId,\n      username,\n      index\n    });\n  };\n  const handleRestart = () => {\n    socket.emit('restart_game', {\n      roomId\n    });\n  };\n  const handleExit = () => {\n    socket.emit('leave_room', {\n      roomId,\n      username\n    });\n    window.location.reload(); // reset app to login screen\n  };\n  const playerSymbol = (_Object$entries$find = Object.entries(players).find(([user]) => user === username)) === null || _Object$entries$find === void 0 ? void 0 : _Object$entries$find[1];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: containerStyle,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: gameAreaStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginBottom: 10\n        },\n        children: [\"Room: \", roomId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: statusStyle,\n        children: gameOver ? status // show winner or draw\n        : playerSymbol ? `Your Symbol: ${playerSymbol} | Turn: ${turn}` : 'Waiting for players...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Board, {\n        board: board,\n        onCellClick: handleCellClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: buttonGroupStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRestart,\n          disabled: !gameOver,\n          style: {\n            ...restartBtnStyle,\n            opacity: gameOver ? 1 : 0.5\n          },\n          title: gameOver ? 'Restart Game' : 'Restart available after game ends',\n          children: \"Restart Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleExit,\n          style: exitBtnStyle,\n          title: \"Exit Room\",\n          children: \"Exit Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Chat, {\n      roomId: roomId,\n      username: username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n}\n_s(Room, \"YSguPQMIw7RzTgZ05H5GTwNmhxo=\");\n_c = Room;\nexport default Room;\nvar _c;\n$RefreshReg$(_c, \"Room\");","map":{"version":3,"names":["React","useEffect","useState","socket","Board","Chat","jsxDEV","_jsxDEV","containerStyle","display","justifyContent","alignItems","gap","padding","fontFamily","backgroundColor","minHeight","gameAreaStyle","borderRadius","boxShadow","width","textAlign","statusStyle","marginBottom","fontSize","fontWeight","color","buttonGroupStyle","marginTop","buttonStyle","border","cursor","transition","restartBtnStyle","exitBtnStyle","Room","username","roomId","_s","_Object$entries$find","board","setBoard","Array","fill","turn","setTurn","status","setStatus","gameOver","setGameOver","players","setPlayers","emit","on","playersData","off","handleCellClick","index","handleRestart","handleExit","window","location","reload","playerSymbol","Object","entries","find","user","style","children","fileName","_jsxFileName","lineNumber","columnNumber","onCellClick","onClick","disabled","opacity","title","_c","$RefreshReg$"],"sources":["C:/Users/krishan kant/Desktop/Js/chess/frontend/src/components/Room.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport socket from '../socket';\r\nimport Board from './Board';\r\nimport Chat from './Chat';\r\n\r\nconst containerStyle = {\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'flex-start',\r\n  gap: 30,\r\n  padding: 20,\r\n  fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\r\n  backgroundColor: '#f0f4f8',\r\n  minHeight: '100vh',\r\n};\r\n\r\nconst gameAreaStyle = {\r\n  backgroundColor: 'white',\r\n  padding: 20,\r\n  borderRadius: 10,\r\n  boxShadow: '0 4px 15px rgba(0,0,0,0.1)',\r\n  width: 300,\r\n  textAlign: 'center',\r\n};\r\n\r\nconst statusStyle = {\r\n  marginBottom: 15,\r\n  fontSize: 18,\r\n  fontWeight: '600',\r\n  color: '#333',\r\n  minHeight: 28,\r\n};\r\n\r\nconst buttonGroupStyle = {\r\n  marginTop: 20,\r\n  display: 'flex',\r\n  justifyContent: 'space-between',\r\n};\r\n\r\nconst buttonStyle = {\r\n  padding: '8px 16px',\r\n  borderRadius: 6,\r\n  border: 'none',\r\n  cursor: 'pointer',\r\n  fontWeight: '600',\r\n  fontSize: 14,\r\n  boxShadow: '0 2px 6px rgba(0,0,0,0.15)',\r\n  transition: 'background-color 0.3s',\r\n};\r\n\r\nconst restartBtnStyle = {\r\n  ...buttonStyle,\r\n  backgroundColor: '#4caf50',\r\n  color: 'white',\r\n};\r\n\r\nconst exitBtnStyle = {\r\n  ...buttonStyle,\r\n  backgroundColor: '#f44336',\r\n  color: 'white',\r\n};\r\n\r\nfunction Room({ username, roomId }) {\r\n  const [board, setBoard] = useState(Array(9).fill(''));\r\n  const [turn, setTurn] = useState('X');\r\n  const [status, setStatus] = useState('');\r\n  const [gameOver, setGameOver] = useState(false);\r\n  const [players, setPlayers] = useState({}); // username-to-symbol mapping\r\n\r\n  useEffect(() => {\r\n    socket.emit('join_room', { roomId, username });\r\n\r\n    socket.on('game_state', ({ board, turn, status, gameOver }) => {\r\n      setBoard(board);\r\n      setTurn(turn);\r\n      setStatus(status);\r\n      setGameOver(gameOver);\r\n    });\r\n\r\n    socket.on('players', (playersData) => {\r\n      setPlayers(playersData);\r\n    });\r\n\r\n    socket.on('game_reset', () => {\r\n      setBoard(Array(9).fill(''));\r\n      setTurn('X');\r\n      setStatus('');\r\n      setGameOver(false);\r\n    });\r\n\r\n    return () => {\r\n      socket.emit('leave_room', { roomId, username });\r\n      socket.off('game_state');\r\n      socket.off('players');\r\n      socket.off('game_reset');\r\n    };\r\n  }, [roomId, username]);\r\n\r\n  const handleCellClick = (index) => {\r\n    if (board[index] || gameOver) return;\r\n\r\n    socket.emit('make_move', { roomId, username, index });\r\n  };\r\n\r\n  const handleRestart = () => {\r\n    socket.emit('restart_game', { roomId });\r\n  };\r\n\r\n  const handleExit = () => {\r\n    socket.emit('leave_room', { roomId, username });\r\n    window.location.reload(); // reset app to login screen\r\n  };\r\n\r\n  const playerSymbol = Object.entries(players).find(\r\n    ([user]) => user === username\r\n  )?.[1];\r\n\r\n  return (\r\n    <div style={containerStyle}>\r\n      <div style={gameAreaStyle}>\r\n        <h2 style={{ marginBottom: 10 }}>Room: {roomId}</h2>\r\n        <div style={statusStyle}>\r\n          {gameOver\r\n            ? status // show winner or draw\r\n            : playerSymbol\r\n            ? `Your Symbol: ${playerSymbol} | Turn: ${turn}`\r\n            : 'Waiting for players...'}\r\n        </div>\r\n        <Board board={board} onCellClick={handleCellClick} />\r\n        <div style={buttonGroupStyle}>\r\n          <button\r\n            onClick={handleRestart}\r\n            disabled={!gameOver}\r\n            style={{ ...restartBtnStyle, opacity: gameOver ? 1 : 0.5 }}\r\n            title={gameOver ? 'Restart Game' : 'Restart available after game ends'}\r\n          >\r\n            Restart Game\r\n          </button>\r\n          <button onClick={handleExit} style={exitBtnStyle} title=\"Exit Room\">\r\n            Exit Room\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <Chat roomId={roomId} username={username} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Room;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}